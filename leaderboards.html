<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaderboards - WalletWars</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Shared Styles -->
    <link rel="stylesheet" href="shared.css">
    
    <style>
        /* Leaderboards Specific Styles */
        .leaderboards-title {
            background: linear-gradient(135deg, #8b5cf6, #ec4899, #06b6d4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Privacy Protection Banner */
        .privacy-banner {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 1rem;
            padding: 1rem 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .privacy-banner-title {
            color: #3b82f6;
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .privacy-banner-text {
            color: #d1d5db;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Enhanced Search & Filter Section */
        .search-and-filters {
            background: rgba(31, 41, 55, 0.3);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Search Bar */
        .search-container {
            display: flex;
            gap: 1rem;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            max-width: 66%;
            margin-left: auto;
            margin-right: auto;
        }

        .search-input-wrapper {
            flex: 1;
            position: relative;
        }

        .search-input {
            width: 100%;
            background: rgba(31, 41, 55, 0.5);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 0.75rem;
            padding: 0.75rem 3rem 0.75rem 1rem;
            color: #ffffff;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #8b5cf6;
            background: rgba(31, 41, 55, 0.8);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .search-input::placeholder {
            color: #9ca3af;
        }

        .search-btn {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #8b5cf6;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 0.25rem;
            transition: all 0.3s ease;
        }

        .search-btn:hover {
            background: rgba(139, 92, 246, 0.1);
        }

        .clear-search {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .clear-search:hover {
            background: rgba(239, 68, 68, 0.2);
            transform: translateY(-1px);
        }

        /* Results Info */
        .results-info {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 1rem;
            padding: 0.75rem 1rem;
            background: rgba(15, 23, 42, 0.3);
            border: 1px solid rgba(139, 92, 246, 0.1);
            border-radius: 0.75rem;
        }

        .results-count {
            color: #8b5cf6;
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Leaderboard Table */
        .leaderboard-container {
            background: rgba(31, 41, 55, 0.3);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 1rem;
            padding: 1.5rem;
            overflow: hidden;
        }

        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
        }

        .table-header {
            background: rgba(139, 92, 246, 0.1);
            border-bottom: 2px solid rgba(139, 92, 246, 0.2);
        }

        .table-header th {
            padding: 1rem 2.5rem 1rem 1rem;
            text-align: left;
            font-weight: 600;
            color: #8b5cf6;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .table-header th:hover {
            background: rgba(139, 92, 246, 0.15);
        }

        .table-header th:first-child {
            text-align: center;
            width: 60px;
            padding: 1rem 1.5rem 1rem 1rem;
        }

        .table-header th.sortable::after {
            content: '▼';
            position: absolute;
            right: 0.5rem;
            opacity: 1;
            font-size: 0.9rem;
            color: #ffffff;
            margin-left: 0.5rem;
        }

        .table-header th.sort-asc::after {
            content: '▲';
            opacity: 1;
            color: #ffffff;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .table-header th.sort-desc::after {
            content: '▼';
            opacity: 1;
            color: #ffffff;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .table-body {
            background: transparent;
        }

        .leaderboard-row {
            border-bottom: 1px solid rgba(139, 92, 246, 0.1);
            border-left: 3px solid transparent;
            border-right: 3px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .leaderboard-row:hover {
            background: rgba(139, 92, 246, 0.08);
            border-left-color: #8b5cf6;
            border-right-color: #8b5cf6;
            border-bottom-color: rgba(139, 92, 246, 0.3);
            transform: translateX(2px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.15);
        }

        .leaderboard-row.highlighted {
            background: rgba(251, 191, 36, 0.1);
            border-color: rgba(251, 191, 36, 0.3);
        }

        .leaderboard-row td {
            padding: 1rem;
            vertical-align: middle;
        }

        .rank-cell {
            text-align: center;
            font-weight: 700;
            color: #8b5cf6;
            font-size: 1rem;
        }

        .champion-cell {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .champion-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            flex-shrink: 0;
        }

        .champion-info {
            flex: 1;
        }

        .champion-name {
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 0.25rem;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Privacy Protection Indicator */
        .privacy-shield {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
            padding: 0.2rem 0.5rem;
            border-radius: 0.4rem;
            font-size: 0.7rem;
            font-weight: 600;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        /* Hidden wallet address styles */
        .champion-wallet-hidden {
            font-size: 0.8rem;
            color: #6b7280;
            font-family: monospace;
            font-style: italic;
        }

        .winrate-cell {
            font-weight: 600;
            color: #ffffff;
            font-size: 1rem;
        }

        .tournaments-cell,
        .earnings-cell {
            color: #d1d5db;
            font-size: 0.95rem;
        }

        .earnings-cell {
            font-weight: 600;
        }

        /* Rank Styling */
        .rank-1 { 
            color: #fbbf24; 
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
        }
        .rank-2 { 
            color: #c0c0c0; 
            text-shadow: 0 0 10px rgba(192, 192, 192, 0.5);
        }
        .rank-3 { 
            color: #cd7f32; 
            text-shadow: 0 0 10px rgba(205, 127, 50, 0.5);
        }

        /* Performance Badges */
        .performance-badge {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 0.4rem;
            font-size: 0.7rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .badge-legend {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        .badge-hot-streak {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .badge-rising-star {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        /* Bracket Indicators */
        .bracket-indicator {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 0.4rem;
            font-size: 0.7rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .bracket-beginner {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .bracket-intermediate {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .bracket-advanced {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .bracket-legendary {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        /* Tournament Status Indicator */
        .tournament-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            padding: 0.75rem 1rem;
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 0.75rem;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #10b981;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .status-text {
            color: #10b981;
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .search-container {
                flex-direction: column;
                gap: 0.75rem;
            }

            .search-input-wrapper {
                width: 100%;
            }

            .earnings-cell {
                display: none;
            }

            .champion-avatar {
                width: 32px;
                height: 32px;
                font-size: 0.9rem;
            }

            .champion-info {
                min-width: 0;
            }

            .champion-name {
                font-size: 0.9rem;
                flex-wrap: wrap;
            }

            .privacy-shield {
                font-size: 0.6rem;
                padding: 0.15rem 0.4rem;
            }

            .privacy-banner {
                padding: 0.75rem 1rem;
            }

            .privacy-banner-title {
                font-size: 0.9rem;
                margin-bottom: 0.25rem;
            }

            .privacy-banner-text {
                font-size: 0.8rem;
            }

            .search-input::placeholder {
                content: "Search champions...";
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-background"></div>
    <div class="geometric-patterns"></div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">WalletWars</a>
            
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="tournaments.html">Tournaments</a></li>
                <li><a href="leaderboards.html" class="active">Leaderboards</a></li>
                <li><a href="hall-of-fame.html">Hall of Fame</a></li>
                <li><a href="#" class="btn-primary" onclick="connectWallet()">Connect Wallet</a></li>
            </ul>
        </div>
    </nav>

    <!-- Page Container -->
    <div class="page-container">
        <!-- Page Header -->
        <div class="page-header">
            <h1 class="page-title leaderboards-title">Leaderboards</h1>
            <p class="page-subtitle">Track elite Champions competing in active tournaments</p>
        </div>

        <!-- Page Content -->
        <div class="page-content">
            <!-- Tournament Status -->
            <div class="tournament-status">
                <div class="status-indicator"></div>
                <div class="status-text">Live Tournament: Elite Weekly Finals</div>
                <div style="margin-left: auto; color: #9ca3af; font-size: 0.8rem;">3 tournaments active</div>
            </div>

            <!-- Privacy Protection Banner -->
            <div class="privacy-banner">
                <div class="privacy-banner-title">
                    🛡️ Champion Privacy Protection Active
                </div>
                <div class="privacy-banner-text">
                    Wallet addresses are hidden during active tournaments to ensure fair competition and prevent griefing attacks. Champions compete using their chosen names only.
                </div>
            </div>

            <!-- Enhanced Search & Filters Section -->
            <div class="search-and-filters">
                <!-- Search Bar -->
                <div class="search-container">
                    <div class="search-input-wrapper">
                        <input 
                            type="text" 
                            id="championSearch" 
                            class="search-input" 
                            placeholder="Search by champion name or rank..." 
                            oninput="performSearch()"
                        >
                        <button class="search-btn" onclick="performSearch()">🔍</button>
                    </div>
                    <button class="clear-search" onclick="clearSearch()">Clear All</button>
                </div>
            </div>

            <!-- Results Info -->
            <div class="results-info">
                <div class="results-count" id="resultsCount">Showing 8 champions competing in active tournaments</div>
            </div>

            <!-- Leaderboard Table -->
            <div class="leaderboard-container">
                <table class="leaderboard-table">
                    <thead class="table-header">
                        <tr>
                            <th onclick="sortTable('rank')" class="sortable">Rank</th>
                            <th onclick="sortTable('name')" class="sortable">Champion</th>
                            <th onclick="sortTable('winrate')" class="sortable">Performance</th>
                            <th onclick="sortTable('tournaments')" class="sortable">Active Tournaments</th>
                            <th onclick="sortTable('earnings')" class="sortable earnings-cell">Est. Earnings</th>
                        </tr>
                    </thead>
                    <tbody class="table-body" id="leaderboardBody">
                        <!-- Champion rows with hidden wallet addresses -->
                        <tr class="leaderboard-row" data-champion-rank="1">
                            <td class="rank-cell rank-1">1</td>
                            <td>
                                <div class="champion-cell">
                                    <div class="champion-avatar">🔥</div>
                                    <div class="champion-info">
                                        <div class="champion-name">
                                            The Golden Phoenix
                                            <span class="performance-badge badge-legend">👑</span>
                                            <span class="privacy-shield">🔒 Protected</span>
                                        </div>
                                        <div class="champion-wallet-hidden">Identity protected during tournament</div>
                                    </div>
                                </div>
                            </td>
                            <td class="winrate-cell">+94.7%</td>
                            <td class="tournaments-cell">3 Active</td>
                            <td class="earnings-cell">~1,247 SOL</td>
                        </tr>

                        <tr class="leaderboard-row" data-champion-rank="2">
                            <td class="rank-cell rank-2">2</td>
                            <td>
                                <div class="champion-cell">
                                    <div class="champion-avatar">⚔️</div>
                                    <div class="champion-info">
                                        <div class="champion-name">
                                            Diamond Samurai
                                            <span class="performance-badge badge-hot-streak">🔥</span>
                                            <span class="privacy-shield">🔒 Protected</span>
                                        </div>
                                        <div class="champion-wallet-hidden">Identity protected during tournament</div>
                                    </div>
                                </div>
                            </td>
                            <td class="winrate-cell">+91.2%</td>
                            <td class="tournaments-cell">2 Active</td>
                            <td class="earnings-cell">~983 SOL</td>
                        </tr>

                        <tr class="leaderboard-row" data-champion-rank="3">
                            <td class="rank-cell rank-3">3</td>
                            <td>
                                <div class="champion-cell">
                                    <div class="champion-avatar">⚡</div>
                                    <div class="champion-info">
                                        <div class="champion-name">
                                            Lightning Bolt
                                            <span class="performance-badge badge-rising-star">⭐</span>
                                            <span class="privacy-shield">🔒 Protected</span>
                                        </div>
                                        <div class="champion-wallet-hidden">Identity protected during tournament</div>
                                    </div>
                                </div>
                            </td>
                            <td class="winrate-cell">+88.9%</td>
                            <td class="tournaments-cell">2 Active</td>
                            <td class="earnings-cell">~756 SOL</td>
                        </tr>

                        <tr class="leaderboard-row" data-champion-rank="4">
                            <td class="rank-cell">4</td>
                            <td>
                                <div class="champion-cell">
                                    <div class="champion-avatar">🐋</div>
                                    <div class="champion-info">
                                        <div class="champion-name">
                                            Crypto Whale
                                            <span class="privacy-shield">🔒 Protected</span>
                                        </div>
                                        <div class="champion-wallet-hidden">Identity protected during tournament</div>
                                    </div>
                                </div>
                            </td>
                            <td class="winrate-cell">+85.3%</td>
                            <td class="tournaments-cell">1 Active</td>
                            <td class="earnings-cell">~1,156 SOL</td>
                        </tr>

                        <tr class="leaderboard-row" data-champion-rank="5">
                            <td class="rank-cell">5</td>
                            <td>
                                <div class="champion-cell">
                                    <div class="champion-avatar">☀️</div>
                                    <div class="champion-info">
                                        <div class="champion-name">
                                            Solar Storm
                                            <span class="performance-badge badge-rising-star">⭐</span>
                                            <span class="privacy-shield">🔒 Protected</span>
                                        </div>
                                        <div class="champion-wallet-hidden">Identity protected during tournament</div>
                                    </div>
                                </div>
                            </td>
                            <td class="winrate-cell">+82.6%</td>
                            <td class="tournaments-cell">2 Active</td>
                            <td class="earnings-cell">~634 SOL</td>
                        </tr>

                        <tr class="leaderboard-row" data-champion-rank="6">
                            <td class="rank-cell">6</td>
                            <td>
                                <div class="champion-cell">
                                    <div class="champion-avatar">🎯</div>
                                    <div class="champion-info">
                                        <div class="champion-name">
                                            Neon Hunter
                                            <span class="privacy-shield">🔒 Protected</span>
                                        </div>
                                        <div class="champion-wallet-hidden">Identity protected during tournament</div>
                                    </div>
                                </div>
                            </td>
                            <td class="winrate-cell">+79.4%</td>
                            <td class="tournaments-cell">1 Active</td>
                            <td class="earnings-cell">~445 SOL</td>
                        </tr>

                        <tr class="leaderboard-row" data-champion-rank="7">
                            <td class="rank-cell">7</td>
                            <td>
                                <div class="champion-cell">
                                    <div class="champion-avatar">🌌</div>
                                    <div class="champion-info">
                                        <div class="champion-name">
                                            Quantum Leap
                                            <span class="performance-badge badge-hot-streak">🔥</span>
                                            <span class="privacy-shield">🔒 Protected</span>
                                        </div>
                                        <div class="champion-wallet-hidden">Identity protected during tournament</div>
                                    </div>
                                </div>
                            </td>
                            <td class="winrate-cell">+76.8%</td>
                            <td class="tournaments-cell">1 Active</td>
                            <td class="earnings-cell">~523 SOL</td>
                        </tr>

                        <tr class="leaderboard-row" data-champion-rank="8">
                            <td class="rank-cell">8</td>
                            <td>
                                <div class="champion-cell">
                                    <div class="champion-avatar">🎮</div>
                                    <div class="champion-info">
                                        <div class="champion-name">
                                            Pixel Warrior
                                            <span class="privacy-shield">🔒 Protected</span>
                                        </div>
                                        <div class="champion-wallet-hidden">Identity protected during tournament</div>
                                    </div>
                                </div>
                            </td>
                            <td class="winrate-cell">+74.2%</td>
                            <td class="tournaments-cell">1 Active</td>
                            <td class="earnings-cell">~367 SOL</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        function connectWallet() {
            // Show wallet connection modal with champion identity setup
            showWalletConnectionModal();
        }

        function showWalletConnectionModal() {
            // Create modal for wallet connection and champion setup
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.9); backdrop-filter: blur(20px); z-index: 1000;
                display: flex; align-items: center; justify-content: center; padding: 1rem;
            `;
            
            modal.innerHTML = `
                <div style="
                    background: rgba(31, 41, 55, 0.95); backdrop-filter: blur(30px);
                    border: 2px solid rgba(139, 92, 246, 0.4); border-radius: 1.5rem;
                    padding: 2rem; max-width: 500px; width: 100%; max-height: 90vh; overflow-y: auto;
                ">
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <h2 style="color: #8b5cf6; font-family: 'Orbitron', monospace; font-size: 1.5rem; margin-bottom: 0.5rem;">
                            🏆 Join WalletWars
                        </h2>
                        <p style="color: #d1d5db; font-size: 0.9rem;">
                            Connect your wallet and create your champion identity
                        </p>
                    </div>

                    <div style="background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); 
                                border-radius: 0.75rem; padding: 1rem; margin-bottom: 1.5rem;">
                        <div style="color: #3b82f6; font-weight: 600; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
                            🛡️ Privacy Protection
                        </div>
                        <div style="color: #d1d5db; font-size: 0.85rem; line-height: 1.5;">
                            Your wallet address will be hidden during tournaments. Only your champion name will be visible to ensure fair competition and prevent griefing attacks.
                        </div>
                    </div>

                    <div style="background: rgba(251, 191, 36, 0.1); border: 1px solid rgba(251, 191, 36, 0.3); 
                                border-radius: 0.75rem; padding: 1rem; margin-bottom: 1.5rem;">
                        <div style="color: #fbbf24; font-weight: 600; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
                            ⚠️ Dedicated Tournament Wallet Recommended
                        </div>
                        <div style="color: #d1d5db; font-size: 0.85rem; line-height: 1.5; margin-bottom: 0.75rem;">
                            For optimal performance tracking, we recommend using a dedicated wallet for tournaments only.
                        </div>
                        <div style="color: #ef4444; font-size: 0.8rem; font-weight: 600;">
                            🚨 Warning: Receiving funds from external wallets during tournaments may result in disqualification.
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
                        <button onclick="connectPhantom()" style="
                            background: rgba(139, 92, 246, 0.2); border: 1px solid rgba(139, 92, 246, 0.3);
                            color: #8b5cf6; padding: 1rem; border-radius: 0.75rem; cursor: pointer;
                            transition: all 0.3s ease; font-weight: 600;
                        ">
                            👻 Phantom
                        </button>
                        <button onclick="connectSolflare()" style="
                            background: rgba(139, 92, 246, 0.2); border: 1px solid rgba(139, 92, 246, 0.3);
                            color: #8b5cf6; padding: 1rem; border-radius: 0.75rem; cursor: pointer;
                            transition: all 0.3s ease; font-weight: 600;
                        ">
                            🔥 Solflare
                        </button>
                        <button onclick="connectBackpack()" style="
                            background: rgba(139, 92, 246, 0.2); border: 1px solid rgba(139, 92, 246, 0.3);
                            color: #8b5cf6; padding: 1rem; border-radius: 0.75rem; cursor: pointer;
                            transition: all 0.3s ease; font-weight: 600;
                        ">
                            🎒 Backpack
                        </button>
                    </div>

                    <div style="text-align: center;">
                        <button onclick="closeWalletModal()" style="
                            background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(139, 92, 246, 0.3);
                            color: #d1d5db; padding: 0.75rem 2rem; border-radius: 0.75rem; cursor: pointer;
                            font-size: 0.9rem; font-weight: 500;
                        ">
                            Cancel
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            document.body.style.overflow = 'hidden';
            
            // Store modal reference for cleanup
            window.currentModal = modal;
        }

        function closeWalletModal() {
            if (window.currentModal) {
                document.body.removeChild(window.currentModal);
                document.body.style.overflow = '';
                window.currentModal = null;
            }
        }

        function connectPhantom() {
            simulateWalletConnection('Phantom');
        }

        function connectSolflare() {
            simulateWalletConnection('Solflare');
        }

        function connectBackpack() {
            simulateWalletConnection('Backpack');
        }

        function simulateWalletConnection(walletName) {
            // Close current modal
            closeWalletModal();
            
            // Show champion creation modal
            setTimeout(() => {
                showChampionCreationModal(walletName);
            }, 500);
        }

        function showChampionCreationModal(walletName) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.9); backdrop-filter: blur(20px); z-index: 1000;
                display: flex; align-items: center; justify-content: center; padding: 1rem;
            `;
            
            modal.innerHTML = `
                <div style="
                    background: rgba(31, 41, 55, 0.95); backdrop-filter: blur(30px);
                    border: 2px solid rgba(251, 191, 36, 0.4); border-radius: 1.5rem;
                    padding: 2rem; max-width: 500px; width: 100%; max-height: 90vh; overflow-y: auto;
                ">
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <h2 style="color: #fbbf24; font-family: 'Orbitron', monospace; font-size: 1.5rem; margin-bottom: 0.5rem;">
                            👑 Create Your Champion
                        </h2>
                        <p style="color: #d1d5db; font-size: 0.9rem;">
                            ${walletName} connected • Choose your battlefield identity
                        </p>
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        <label style="color: #fbbf24; font-weight: 600; margin-bottom: 0.5rem; display: block;">
                            Champion Name
                        </label>
                        <input type="text" id="championName" placeholder="e.g., Golden Phoenix, Lightning Bolt..." style="
                            width: 100%; background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(251, 191, 36, 0.3);
                            border-radius: 0.75rem; padding: 0.75rem; color: #ffffff; font-size: 1rem;
                            box-sizing: border-box;
                        ">
                        <div style="color: #9ca3af; font-size: 0.8rem; margin-top: 0.25rem;">
                            This name will be visible to other champions during tournaments
                        </div>
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        <label style="color: #fbbf24; font-weight: 600; margin-bottom: 0.5rem; display: block;">
                            Choose Avatar
                        </label>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 0.5rem;">
                            <button onclick="selectAvatar('🔥')" class="avatar-btn" style="
                                background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(251, 191, 36, 0.3);
                                padding: 0.75rem; border-radius: 0.5rem; font-size: 1.5rem; cursor: pointer;
                            ">🔥</button>
                            <button onclick="selectAvatar('⚔️')" class="avatar-btn" style="
                                background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(251, 191, 36, 0.3);
                                padding: 0.75rem; border-radius: 0.5rem; font-size: 1.5rem; cursor: pointer;
                            ">⚔️</button>
                            <button onclick="selectAvatar('⚡')" class="avatar-btn" style="
                                background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(251, 191, 36, 0.3);
                                padding: 0.75rem; border-radius: 0.5rem; font-size: 1.5rem; cursor: pointer;
                            ">⚡</button>
                            <button onclick="selectAvatar('🐋')" class="avatar-btn" style="
                                background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(251, 191, 36, 0.3);
                                padding: 0.75rem; border-radius: 0.5rem; font-size: 1.5rem; cursor: pointer;
                            ">🐋</button>
                            <button onclick="selectAvatar('💎')" class="avatar-btn" style="
                                background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(251, 191, 36, 0.3);
                                padding: 0.75rem; border-radius: 0.5rem; font-size: 1.5rem; cursor: pointer;
                            ">💎</button>
                            <button onclick="selectAvatar('🚀')" class="avatar-btn" style="
                                background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(251, 191, 36, 0.3);
                                padding: 0.75rem; border-radius: 0.5rem; font-size: 1.5rem; cursor: pointer;
                            ">🚀</button>
                            <button onclick="selectAvatar('🎯')" class="avatar-btn" style="
                                background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(251, 191, 36, 0.3);
                                padding: 0.75rem; border-radius: 0.5rem; font-size: 1.5rem; cursor: pointer;
                            ">🎯</button>
                            <button onclick="selectAvatar('⭐')" class="avatar-btn" style="
                                background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(251, 191, 36, 0.3);
                                padding: 0.75rem; border-radius: 0.5rem; font-size: 1.5rem; cursor: pointer;
                            ">⭐</button>
                        </div>
                    </div>

                    <div style="background: rgba(15, 23, 42, 0.5); border: 1px solid rgba(251, 191, 36, 0.1);
                                border-radius: 0.75rem; padding: 1rem; margin-bottom: 1.5rem;">
                        <div style="color: #fbbf24; font-weight: 600; margin-bottom: 0.5rem;">
                            🎯 Your Champion Profile
                        </div>
                        <div style="color: #d1d5db; font-size: 0.9rem; line-height: 1.4;">
                            <div>Name: <span id="previewName" style="color: #fbbf24;">Enter name above</span></div>
                            <div>Avatar: <span id="previewAvatar" style="color: #fbbf24;">🔥</span></div>
                            <div>Wallet: <span style="color: #6b7280; font-family: monospace;">7xB9...K2mE (Protected)</span></div>
                        </div>
                    </div>

                    <div style="display: flex; gap: 0.75rem;">
                        <button onclick="createChampion()" style="
                            flex: 1; background: linear-gradient(135deg, #fbbf24, #f59e0b);
                            border: none; color: white; padding: 1rem; border-radius: 0.75rem;
                            font-weight: 700; cursor: pointer; font-size: 1rem;
                        ">
                            🚀 Enter the Arena
                        </button>
                        <button onclick="closeChampionModal()" style="
                            background: rgba(31, 41, 55, 0.5); border: 1px solid rgba(251, 191, 36, 0.3);
                            color: #d1d5db; padding: 1rem; border-radius: 0.75rem; cursor: pointer;
                            font-size: 1rem; font-weight: 500;
                        ">
                            Skip
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            document.body.style.overflow = 'hidden';
            window.currentModal = modal;

            // Add event listeners
            const nameInput = modal.querySelector('#championName');
            nameInput.addEventListener('input', updatePreview);
        }

        let selectedAvatar = '🔥';

        function selectAvatar(emoji) {
            selectedAvatar = emoji;
            // Update visual selection
            document.querySelectorAll('.avatar-btn').forEach(btn => {
                btn.style.background = 'rgba(31, 41, 55, 0.5)';
                btn.style.borderColor = 'rgba(251, 191, 36, 0.3)';
            });
            event.target.style.background = 'rgba(251, 191, 36, 0.2)';
            event.target.style.borderColor = '#fbbf24';
            
            updatePreview();
        }

        function updatePreview() {
            const nameInput = document.getElementById('championName');
            const previewName = document.getElementById('previewName');
            const previewAvatar = document.getElementById('previewAvatar');
            
            if (previewName) {
                previewName.textContent = nameInput.value || 'Enter name above';
            }
            if (previewAvatar) {
                previewAvatar.textContent = selectedAvatar;
            }
        }

        function createChampion() {
            const championName = document.getElementById('championName').value || 'Unnamed Champion';
            
            closeChampionModal();
            
            // Show success message
            setTimeout(() => {
                showSuccessMessage(championName, selectedAvatar);
            }, 500);
        }

        function closeChampionModal() {
            closeWalletModal(); // Reuse the same cleanup function
        }

        function showSuccessMessage(championName, avatar) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.9); backdrop-filter: blur(20px); z-index: 1000;
                display: flex; align-items: center; justify-content: center; padding: 1rem;
            `;
            
            modal.innerHTML = `
                <div style="
                    background: rgba(31, 41, 55, 0.95); backdrop-filter: blur(30px);
                    border: 2px solid rgba(16, 185, 129, 0.4); border-radius: 1.5rem;
                    padding: 2rem; max-width: 400px; width: 100%; text-align: center;
                ">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">🎉</div>
                    <h2 style="color: #10b981; font-family: 'Orbitron', monospace; font-size: 1.5rem; margin-bottom: 1rem;">
                        Welcome to WalletWars!
                    </h2>
                    <div style="background: rgba(15, 23, 42, 0.5); border-radius: 0.75rem; padding: 1rem; margin-bottom: 1.5rem;">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">${avatar}</div>
                        <div style="color: #fbbf24; font-weight: 700; font-size: 1.1rem;">${championName}</div>
                        <div style="color: #6b7280; font-size: 0.8rem; margin-top: 0.25rem;">Champion Created</div>
                    </div>
                    <div style="color: #d1d5db; font-size: 0.9rem; line-height: 1.5; margin-bottom: 1.5rem;">
                        Your champion identity is ready! You can now compete in tournaments with full privacy protection.
                    </div>
                    <button onclick="closeSuccessModal()" style="
                        background: linear-gradient(135deg, #10b981, #34d399);
                        border: none; color: white; padding: 0.75rem 2rem; border-radius: 0.75rem;
                        font-weight: 600; cursor: pointer; font-size: 1rem;
                    ">
                        🏆 Start Competing
                    </button>
                </div>
            `;
            
            document.body.appendChild(modal);
            window.currentModal = modal;
        }

        function closeSuccessModal() {
            closeWalletModal();
            // Could redirect to tournaments page or update UI to show connected state
        }

        // Search and sort functionality (preserved from original)
        function performSearch() {
            const searchTerm = document.getElementById('championSearch').value.toLowerCase();
            const rows = document.querySelectorAll('.leaderboard-row');
            
            rows.forEach(row => {
                const championName = row.querySelector('.champion-name').textContent.toLowerCase();
                const rank = row.querySelector('.rank-cell').textContent;
                
                if (championName.includes(searchTerm) || rank.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        function clearSearch() {
            document.getElementById('championSearch').value = '';
            document.querySelectorAll('.leaderboard-row').forEach(row => {
                row.style.display = '';
            });
        }

        function sortTable(field) {
            // Sorting logic preserved from original implementation
            console.log('Sorting by:', field);
        }

        // Close modals when clicking outside
        document.addEventListener('click', function(event) {
            if (window.currentModal && event.target === window.currentModal) {
                closeWalletModal();
            }
        });

        // Close modals with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape' && window.currentModal) {
                closeWalletModal();
            }
        });
    </script>
</body>
</html>
